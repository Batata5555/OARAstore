<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OARA STORE | Ø·Ø±ÙŠÙ‚Ùƒ Ù†Ø­Ùˆ Ø§Ù„Ù‚Ù…Ø©</title>
    
    <meta property="og:title" content="OARA STORE">
    <meta property="og:image" content="https://files.catbox.moe/p9o48p.png">
    <link rel="icon" type="image/png" href="https://files.catbox.moe/p9o48p.png">

    <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,wght@0,700;1,400&family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #d4af37; --black: #000000; --dark: #0a0a0a; --gray: #111; }
        body { font-family: 'Tajawal', sans-serif; margin: 0; background: var(--black); color: white; overflow-x: hidden; }
        
        header { background: #000; padding: 10px 5%; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--gold); position: sticky; top: 0; z-index: 1000; }
        .logo-img { height: 55px; cursor: pointer; transition: 0.3s; }
        
        .nav-icons { display: flex; align-items: center; gap: 15px; }
        .user-icon { cursor: pointer; color: var(--gold); font-size: 13px; border: 1px solid #333; padding: 6px 14px; border-radius: 25px; }
        .cart-trigger { position: relative; cursor: pointer; font-size: 22px; color: var(--gold); }
        .cart-badge { position: absolute; top: -8px; right: -10px; background: var(--gold); color: black; font-size: 10px; width: 17px; height: 17px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        
        .hero-statement { padding: 60px 10%; text-align: center; border-bottom: 1px solid var(--gray); background: linear-gradient(to bottom, #000, #050505); }
        .hero-statement h2 { font-family: 'Bodoni Moda', serif; font-size: 22px; line-height: 1.6; color: #fff; margin: 0 auto; max-width: 800px; }
        
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 15px; }
        .product-card { background: var(--dark); border: 1px solid var(--gray); text-align: center; padding-bottom: 15px; position: relative; overflow: hidden; }
        .product-card img { width: 100%; height: 250px; object-fit: cover; background: #050505; }
        .cat-label { position: absolute; bottom: 20px; width: 100%; text-align: center; }
        .cat-label span { background: rgba(0,0,0,0.85); border: 1px solid var(--gold); padding: 8px 20px; font-size: 12px; color: #fff; }

        .reviews-container { padding: 40px 5%; background: #050505; border-top: 1px solid var(--gray); }
        .review-card { background: #0a0a0a; padding: 15px; border-radius: 2px; margin-bottom: 12px; border: 1px solid #1a1a1a; display: flex; gap: 12px; }
        .review-avatar { width: 40px; height: 40px; border-radius: 50%; border: 1px solid var(--gold); }

        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 2000; display: none; overflow-y: auto; padding: 30px 20px; box-sizing: border-box; }
        .modal.active { display: block; }
        input, select, textarea { width: 100%; padding: 12px; margin: 8px 0; background: #111; border: 1px solid #333; color: white; font-family: 'Tajawal'; }
        .btn { background: var(--gold); color: black; border: none; padding: 16px; width: 100%; font-weight: bold; cursor: pointer; margin-top: 10px; font-size: 14px; }
    </style>
</head>
<body>

<header>
    <div onclick="location.reload()" style="color:var(--gold); cursor:pointer; font-size:24px;">â˜°</div>
    <img src="https://files.catbox.moe/p9o48p.png" alt="OARA Logo" class="logo-img" onclick="location.reload()">
    <div class="nav-icons">
        <div class="user-icon" id="user-btn" onclick="openLoginModal()">ğŸ‘¤ <span id="user-display">Ø§Ù„Ù†Ø®Ø¨Ø©</span></div>
        <div class="cart-trigger" onclick="openCheckout()">ğŸ›’ <span class="cart-badge" id="cart-count">0</span></div>
    </div>
</header>

<div id="main-view">
    <section class="hero-statement">
        <h2>"Ø£Ù†Øª Ù„Ø§ ØªØ´ØªØ±ÙŠ Ù…Ø¬Ø±Ø¯ Ù…Ù†ØªØ¬ØŒ Ø£Ù†Øª ØªÙ‚ØªÙ†ÙŠ Ù‚Ø·Ø¹Ø© Ù…Ù† Ø§Ù„ÙØ®Ø§Ù…Ø© Ø§Ù„ØªÙŠ ØªÙ„ÙŠÙ‚ Ø¨Ù…ÙƒØ§Ù†ØªÙƒ"</h2>
    </section>

    <div class="grid">
        <div class="product-card" onclick="loadCategory('Ø³Ø§Ø¹Ø§Øª')"><img src="https://images.pexels.com/photos/190819/pexels-photo-190819.jpeg?w=600"><div class="cat-label"><span>Ø³Ø§Ø¹Ø§Øª</span></div></div>
        <div class="product-card" onclick="loadCategory('Ø¹Ø·ÙˆØ±')"><img src="https://images.pexels.com/photos/965989/pexels-photo-965989.jpeg?w=600"><div class="cat-label"><span>Ø¹Ø·ÙˆØ±</span></div></div>
        <div class="product-card" onclick="loadCategory('Ù…Ù„Ø§Ø¨Ø³')"><img src="https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?w=600"><div class="cat-label"><span>Ù…Ù„Ø§Ø¨Ø³</span></div></div>
        <div class="product-card" onclick="loadCategory('Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª')"><img src="https://images.pexels.com/photos/356056/pexels-photo-356056.jpeg?w=600"><div class="cat-label"><span>Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</span></div></div>
    </div>

    <div class="reviews-container">
        <h3 style="text-align:center; color:var(--gold); font-size:12px; letter-spacing:2px; margin-bottom:20px;">Ø¢Ø±Ø§Ø¡ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ø±Ø§Ù‚ÙŠ</h3>
        <div id="reviews-list"></div>
        <button class="btn" style="background:none; border:1px solid var(--gold); color:var(--gold);" onclick="openReviewModal()">+ Ø£Ø¶Ù Ù…Ø±Ø§Ø¬Ø¹ØªÙƒ</button>
    </div>
</div>

<div id="category-view" style="display:none;">
    <section class="hero-statement"><h2 id="cat-slogan" style="font-style: italic;"></h2></section>
    <div onclick="location.reload()" style="color:var(--gold); padding:15px; cursor:pointer; font-size:13px; text-align:center;">â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©</div>
    <div id="products-list" class="grid" style="padding-top:0;"></div>
</div>

<div class="modal" id="login-modal">
    <span onclick="closeModals()" style="color:var(--gold); float:left; cursor:pointer; font-size:20px;">âœ•</span>
    <h2 style="color:var(--gold); padding-top:20px; text-align:center;">Ø¹Ø¶ÙˆÙŠØ© OARA</h2>
    <p style="text-align:center; color:var(--gold); margin-bottom:20px;">Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ù…ØªØ¬Ø± OARA Ø·Ø±ÙŠÙ‚Ùƒ Ù†Ø­Ùˆ Ø§Ù„Ù‚Ù…Ø©</p>
    <input type="text" id="reg-name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
    <input type="tel" id="reg-phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
    <button class="btn" onclick="saveProfile()">Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù†Ø­Ùˆ Ø§Ù„Ù‚Ù…Ø©</button>
</div>

<div class="modal" id="checkout-modal">
    <span onclick="closeModals()" style="color:var(--gold); float:left; cursor:pointer; font-size:20px;">âœ•</span>
    <h2 style="color:var(--gold); padding-top:20px; text-align:center;">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h2>
    <div id="cart-summary" style="background:#080808; padding:15px; border:1px solid var(--gray); margin-bottom:15px;"></div>
    <input type="text" id="city" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©">
    <input type="tel" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
    <button class="btn" onclick="submitOrder()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
</div>

<script>
    let cart = [];
    let storeData = [];
    let currentUser = JSON.parse(localStorage.getItem('oara_user')) || null;

    async function init() {
        if(currentUser) document.getElementById('user-display').innerText = currentUser.name;
        renderReviews();
        try {
            const res = await fetch("https://docs.google.com/spreadsheets/d/1nOwLwJqkusxCoRDYSMyjxoV6PHm4AB1lp35NEuyTZ70/gviz/tq?tqx=out:json");
            const text = await res.text();
            const data = JSON.parse(text.substring(47).slice(0, -2));
            storeData = data.table.rows.map(r => ({
                name: r.c[0]?.v || '', price: (parseFloat(r.c[1]?.v) || 0) + 20, img: r.c[2]?.v || '', cat: (r.c[3]?.v || '').trim()
            }));
        } catch(e) {}
    }

    function loadCategory(cat) {
        document.getElementById('main-view').style.display = 'none';
        document.getElementById('category-view').style.display = 'block';
        const items = storeData.filter(p => p.cat === cat);
        document.getElementById('products-list').innerHTML = items.map(p => `
            <div class="product-card">
                <img src="${p.img}" onerror="this.src='https://via.placeholder.com/400x500/000/d4af37?text=OARA'">
                <h4 style="font-size:12px; margin:10px 0;">${p.name}</h4>
                <div style="color:var(--gold); font-weight:bold;">${p.price} â‚ª</div>
                <button class="btn" style="padding:8px; width:85%; font-size:11px;" onclick="addToCart('${p.name}', ${p.price})">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
            </div>`).join('');
        window.scrollTo(0,0);
    }

    function addToCart(n, p) { cart.push({name:n, price:p}); document.getElementById('cart-count').innerText = cart.length; }
    
    function openCheckout() {
        if(cart.length === 0) return alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©');
        let total = cart.reduce((s, i) => s + i.price, 0);
        document.getElementById('cart-summary').innerHTML = cart.map(i => `<div>${i.name} - ${i.price} â‚ª</div>`).join('') + `<hr><b>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${total} â‚ª</b>`;
        document.getElementById('checkout-modal').classList.add('active');
    }

    function submitOrder() {
        const ph = document.getElementById('phone').value;
        if(!ph) return alert("Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ");
        window.open(`https://wa.me/972568486065?text=Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù…ØªØ¬Ø± OARA`);
    }

    function saveProfile() {
        const name = document.getElementById('reg-name').value;
        if(!name) return;
        currentUser = { name, phone: document.getElementById('reg-phone').value };
        localStorage.setItem('oara_user', JSON.stringify(currentUser));
        document.getElementById('user-display').innerText = name;
        closeModals();
    }

    function openLoginModal() { document.getElementById('login-modal').classList.add('active'); }
    function closeModals() { document.querySelectorAll('.modal').forEach(m => m.classList.remove('active')); }
    
    function renderReviews() {
        const revs = [{name: "ÙÙ‡Ø¯ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ", text: "ÙØ®Ø§Ù…Ø© ØªØ³ØªØ­Ù‚ ÙƒÙ„ Ø´ÙŠÙƒÙ„.", img: "https://i.pravatar.cc/150?u=5"}];
        document.getElementById('reviews-list').innerHTML = revs.map(r => `<div class="review-card"><img src="${r.img}" class="review-avatar"><div><span style="color:var(--gold);">${r.name}</span><p style="font-size:12px; margin:5px 0;">${r.text}</p></div></div>`).join('');
    }

    window.onload = init;
</script>
</body>
</html>
